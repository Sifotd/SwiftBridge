# æœ¬åœ°æµ‹è¯•ç¯å¢ƒä½¿ç”¨æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ å¿«é€Ÿå¯åŠ¨æœ¬åœ°æµ‹è¯•ç¯å¢ƒ,é¿å…å…¬ç”¨RPCèŠ‚ç‚¹çš„é€Ÿåº¦é—®é¢˜ã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

- Node.js å’Œ npm å·²å®‰è£…
- Hardhat å·²å®‰è£… (é¡¹ç›®å·²åŒ…å«)
- MetaMask æˆ–å…¶ä»–Web3é’±åŒ…

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœ¬åœ°æµ‹è¯•èŠ‚ç‚¹

åœ¨ `Monallo-Bridge-Contract` ç›®å½•ä¸‹è¿è¡Œ:

```bash
cd Monallo-Bridge-Contract
./scripts/start-local-nodes.sh
```

è¿™ä¼šå¯åŠ¨3ä¸ªæœ¬åœ°èŠ‚ç‚¹:
- **ä¸»æœ¬åœ°èŠ‚ç‚¹**: `http://127.0.0.1:8545` (ChainID: 31337)
- **Sepoliaæ¨¡æ‹Ÿ**: `http://127.0.0.1:8546` (ChainID: 11155111)
- **Imuaæ¨¡æ‹Ÿ**: `http://127.0.0.1:8547` (ChainID: 233)

### 2. åœ¨ MetaMask ä¸­æ·»åŠ æœ¬åœ°ç½‘ç»œ

#### æ·»åŠ æœ¬åœ°ä¸»ç½‘ç»œ:
- ç½‘ç»œåç§°: `Localhost 8545`
- RPC URL: `http://127.0.0.1:8545`
- Chain ID: `31337`
- è´§å¸ç¬¦å·: `ETH`

#### æ·»åŠ  Sepolia æœ¬åœ°æ¨¡æ‹Ÿ:
- ç½‘ç»œåç§°: `Local Sepolia`
- RPC URL: `http://127.0.0.1:8546`
- Chain ID: `11155111`
- è´§å¸ç¬¦å·: `ETH`

#### æ·»åŠ  Imua æœ¬åœ°æ¨¡æ‹Ÿ:
- ç½‘ç»œåç§°: `Local Imua`
- RPC URL: `http://127.0.0.1:8547`
- Chain ID: `233`
- è´§å¸ç¬¦å·: `IMUA`

### 3. å¯¼å…¥æµ‹è¯•è´¦æˆ·

Hardhat æœ¬åœ°èŠ‚ç‚¹ä¼šè‡ªåŠ¨åˆ›å»ºæµ‹è¯•è´¦æˆ·,é»˜è®¤è´¦æˆ·ç§é’¥:

```
0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
```

åœ¨ MetaMask ä¸­å¯¼å…¥è¿™ä¸ªç§é’¥,è¯¥è´¦æˆ·ä¼šè‡ªåŠ¨è·å¾— 10000 ETHã€‚

### 4. éƒ¨ç½²åˆçº¦åˆ°æœ¬åœ°èŠ‚ç‚¹

```bash
cd Monallo-Bridge-Contract
./scripts/deploy-local.sh
```

è®°å½•ä¸‹éƒ¨ç½²çš„åˆçº¦åœ°å€,ç”¨äºå‰ç«¯é…ç½®ã€‚

### 5. å¯åŠ¨å‰ç«¯

```bash
cd Monallo-Bridge-Frontend
npm run dev
```

å‰ç«¯ç°åœ¨ä¼šä¼˜å…ˆè¿æ¥æœ¬åœ°RPCèŠ‚ç‚¹,é€Ÿåº¦ä¼šéå¸¸å¿«!

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹èŠ‚ç‚¹æ—¥å¿—
```bash
cd Monallo-Bridge-Contract
tail -f logs/localhost-8545.log
tail -f logs/sepolia-8546.log
tail -f logs/imua-8547.log
```

### åœæ­¢æ‰€æœ‰èŠ‚ç‚¹
```bash
cd Monallo-Bridge-Contract
./scripts/stop-local-nodes.sh
```

### é‡æ–°å¯åŠ¨èŠ‚ç‚¹
```bash
cd Monallo-Bridge-Contract
./scripts/stop-local-nodes.sh
./scripts/start-local-nodes.sh
```

## ğŸ“ é…ç½®è¯´æ˜

### Hardhat é…ç½®

æœ¬åœ°ç½‘ç»œå·²æ·»åŠ åˆ° `hardhat.config.js`:

```javascript
networks: {
  localhost: {
    url: "http://127.0.0.1:8545",
    chainId: 31337
  },
  localSepolia: {
    url: "http://127.0.0.1:8546",
    chainId: 11155111
  },
  localImua: {
    url: "http://127.0.0.1:8547",
    chainId: 233
  }
}
```

### å‰ç«¯ Web3Service é…ç½®

å‰ç«¯çš„ RPC é…ç½®å·²æ›´æ–°,ä¼šä¼˜å…ˆä½¿ç”¨æœ¬åœ°èŠ‚ç‚¹:

- `Ethereum-Sepolia`: ä¼˜å…ˆä½¿ç”¨ `http://127.0.0.1:8546`
- `Imua-Testnet`: ä¼˜å…ˆä½¿ç”¨ `http://127.0.0.1:8547`

## ğŸ’¡ ä¼˜åŠ¿

âœ… **è¶…å¿«é€Ÿåº¦**: æœ¬åœ°èŠ‚ç‚¹å“åº”æ—¶é—´ < 10ms
âœ… **æ— é™åˆ¶**: æ²¡æœ‰é€Ÿç‡é™åˆ¶
âœ… **ç¨³å®š**: ä¸å—å…¬å…±èŠ‚ç‚¹å½±å“
âœ… **å…è´¹**: æ— éœ€ä»»ä½• API å¯†é’¥
âœ… **å¯æ§**: å®Œå…¨æ§åˆ¶æµ‹è¯•ç¯å¢ƒ

## ğŸ› æ•…éšœæ’é™¤

### ç«¯å£å·²è¢«å ç”¨
å¦‚æœç«¯å£ 8545/8546/8547 å·²è¢«å ç”¨,å¯ä»¥:

1. æ£€æŸ¥å ç”¨çš„è¿›ç¨‹:
```bash
lsof -i :8545
lsof -i :8546
lsof -i :8547
```

2. æ€æ­»è¿›ç¨‹:
```bash
kill -9 <PID>
```

### é’±åŒ…è¿æ¥é—®é¢˜
- ç¡®ä¿ MetaMask ä¸­å·²æ·»åŠ æœ¬åœ°ç½‘ç»œ
- ç¡®ä¿é€‰æ‹©äº†æ­£ç¡®çš„ç½‘ç»œ
- å°è¯•é‡ç½® MetaMask è´¦æˆ· (Settings -> Advanced -> Reset Account)

### åˆçº¦éƒ¨ç½²å¤±è´¥
- ç¡®ä¿æœ¬åœ°èŠ‚ç‚¹æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥èŠ‚ç‚¹æ—¥å¿—æ–‡ä»¶
- ç¡®ä¿æœ‰è¶³å¤Ÿçš„æµ‹è¯• ETH

## ğŸ”„ åˆ‡æ¢å›å…¬å…±ç½‘ç»œ

å¦‚æœéœ€è¦åˆ‡æ¢å›å…¬å…±ç½‘ç»œæµ‹è¯•:

1. åœ¨ `web3Service.ts` ä¸­è°ƒæ•´ RPC URL é¡ºåº,å°†å…¬å…±èŠ‚ç‚¹æ”¾åœ¨å‰é¢
2. æˆ–è€…ç›´æ¥åœ¨ MetaMask ä¸­é€‰æ‹©å…¬å…±ç½‘ç»œ

## ğŸ“š æ›´å¤šèµ„æº

- [Hardhat æ–‡æ¡£](https://hardhat.org/docs)
- [MetaMask æ–‡æ¡£](https://docs.metamask.io/)
- [Web3.js æ–‡æ¡£](https://web3js.readthedocs.io/)
